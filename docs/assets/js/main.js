"use strict";const butonReset=document.querySelector(".js_reset");function handleReset(){location.reload()}butonReset.addEventListener("click",handleReset);const input=document.querySelector(".js_input"),butonSearch=document.querySelector(".js_button"),resultsContainer=document.querySelector(".js_results"),imageDefautl="https://via.placeholder.com/210x295/ffffff/666666/?text=TV";let globalData=[],favorites=[];function handleSearch(e){e.preventDefault();let t=input.value.toLowerCase();fetch("//api.tvmaze.com/search/shows?q="+t).then(e=>e.json()).then(e=>{globalData=e,paintInput()}),console.log(t)}function isFavorite(e){return void 0!==favorites.find(t=>t.show.id===e.show.id)}function paintInput(){for(const e of globalData)null===e.show.image?resultsContainer.innerHTML+=` <li class = "results__list js_list " id = "${e.show.id}"><img src="${imageDefautl} "alt=""/><h2 class = "results__name">${e.show.name}</h2></li>`:resultsContainer.innerHTML+=` <li class = "results__list js_list " id = "${e.show.id}"><img src="${e.show.image.medium} "alt=""/><h2 class = "results__name">${e.show.name}</h2></li>`;listenListResults()}function handleListResults(e){const t=parseInt(e.currentTarget.id),s=globalData.find(e=>e.show.id===t),n=favorites.findIndex(e=>e.show.id===t);-1===n?favorites.push(s):favorites.splice(n,1),e.currentTarget.classList.toggle("selected")}function listenListResults(){const e=document.querySelectorAll(".js_list");for(const t of e)t.addEventListener("click",handleListResults)}butonSearch.addEventListener("click",handleSearch);